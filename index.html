<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>fRiENEMiES Studio — View • Animate • Export</title>
    <meta
      name="description"
      content="Load fRiENDSiES by token or wallet/ENS, preview animations, and export rig-ready GLB. No wallet connect required."
    />
    <link rel="stylesheet" href="/style.css?v=2026-02-03c" />

    <!-- Glide.js (carousel engine) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.min.css"
    />
  </head>

  <body>
    <div id="ui" class="ui">
      <section class="studioBadge" aria-label="Studio summary">
        <h1>fRiENEMiES Studio</h1>
        <p>Load by token or wallet/ENS, preview animations, export rig-ready GLB.</p>
      </section>
      <div id="tokenCarousel" class="glide glassCarousel" aria-label="Token picker">
        <div
          id="carouselViewport"
          class="glide__track carouselViewport"
          data-glide-el="track"
          role="listbox"
        >
          <ul class="glide__slides tokenTrack" id="tokenSlides"></ul>
        </div>
      </div>

      <div id="menuStack" class="menuStack">
        <button id="hamburger" class="fab" type="button" aria-label="Menu">
          <svg class="fab-icon fab-icon--menu" viewBox="0 0 24 24" aria-hidden="true">
            <line
              x1="4"
              y1="7"
              x2="20"
              y2="7"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <line
              x1="4"
              y1="12"
              x2="20"
              y2="12"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <line
              x1="4"
              y1="17"
              x2="20"
              y2="17"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
          <svg class="fab-icon fab-icon--close" viewBox="0 0 24 24" aria-hidden="true">
            <line
              x1="6"
              y1="6"
              x2="18"
              y2="18"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <line
              x1="18"
              y1="6"
              x2="6"
              y2="18"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
        </button>

        <div id="menu" class="menu" aria-hidden="true">
          <button class="menuIcon" type="button" data-panel="find" aria-label="Find">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="11" cy="11" r="6.5" stroke="currentColor" stroke-width="2" fill="none" />
              <path d="M16.5 16.5L21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </button>
          <button class="menuIcon" type="button" data-panel="share" aria-label="Share">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M4 7h16v10H4z"
                stroke="currentColor"
                stroke-width="2"
                fill="none"
                stroke-linejoin="round"
              />
              <path
                d="M4 7l8 6 8-6"
                stroke="currentColor"
                stroke-width="2"
                fill="none"
                stroke-linejoin="round"
              />
            </svg>
          </button>
          <button class="menuIcon" type="button" data-panel="vibe" aria-label="Vibe">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 3l2.5 5 5.5.8-4 3.9.9 5.5-4.9-2.6-4.9 2.6.9-5.5-4-3.9 5.5-.8z"
                stroke="currentColor"
                stroke-width="2"
                fill="none"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>

        <div id="panel-find" class="sheet" aria-hidden="true">
          <div class="sheetBody">
            <label class="fieldLabel" for="searchInput">Wallet address or ENS</label>
            <input
              id="searchInput"
              class="searchInput"
              type="text"
              placeholder="e.g. 0x..., pizzalord.eth, or token #"
              autocomplete="off"
              inputmode="search"
            />
            <div class="quickstart" aria-label="Quickstart">
              <div class="quickstartTitle">Quickstart</div>
              <ol>
                <li>Token ID → Load</li>
                <li>Wallet/ENS → Lookup</li>
                <li>Anim → Play</li>
                <li>Export → GLB</li>
              </ol>
            </div>
            <button
              id="resetCollectionBtn"
              class="sheetAction viewAllChip"
              type="button"
              aria-hidden="true"
            >
              View all
            </button>
            <div id="searchResults" class="searchResults"></div>
          </div>
        </div>
        <div id="panel-share" class="sheet" aria-hidden="true">
          <div class="sheetBody">
            <button id="copyLinkBtn" class="sheetAction" type="button">Copy link</button>
            <button id="downloadGlbBtn" class="sheetAction" type="button">Download .glb</button>
          </div>
        </div>
        <div id="panel-vibe" class="sheet" aria-hidden="true">
          <div class="sheetBody">
            <button class="sheetAction" data-preset="Cinematic" type="button">Cinematic</button>
            <button class="sheetAction" data-preset="Punchy Studio" type="button">
              Punchy Studio
            </button>
            <button class="sheetAction" data-preset="Soft Pastel" type="button">Soft Pastel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Three.js r128 + loaders/controls -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- REQUIRED for EXRLoader when EXR uses ZIP compression -->
    <script src="https://cdn.jsdelivr.net/npm/fflate@0.8.2/umd/index.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/DRACOLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/RGBELoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/utils/SkeletonUtils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/EXRLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/exporters/GLTFExporter.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/glide.min.js"></script>
    <script src="/main.js?v=2026-02-03c"></script>
  </body>
</html>
